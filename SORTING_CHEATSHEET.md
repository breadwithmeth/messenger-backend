# üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤

## ‚è∞ –í–∞–∂–Ω–æ –æ –≤—Ä–µ–º–µ–Ω–∏!

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–¥—ë—Ç –ø–æ `lastMessageAt` (–≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è), –∞ –ù–ï –ø–æ `createdAt`!**

### –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?

```
–ß–∞—Ç A: —Å–æ–∑–¥–∞–Ω 1 —è–Ω–≤–∞—Ä—è, –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 10 —Ñ–µ–≤—Ä–∞–ª—è
–ß–∞—Ç B: —Å–æ–∑–¥–∞–Ω 5 —Ñ–µ–≤—Ä–∞–ª—è, –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 9 —Ñ–µ–≤—Ä–∞–ª—è

–ü—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
1. –ß–∞—Ç A (–ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 10 —Ñ–µ–≤—Ä–∞–ª—è) ‚¨ÜÔ∏è
2. –ß–∞—Ç B (–ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 9 —Ñ–µ–≤—Ä–∞–ª—è)  ‚¨áÔ∏è

–ß–∞—Ç—ã —Å –Ω–µ–¥–∞–≤–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –í–°–ï–ì–î–ê –≤—ã—à–µ!
```

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–Ω—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```bash
GET /api/chats
# –°–æ—Ä—Ç–∏—Ä—É–µ—Ç: priority ‚Üí unreadCount ‚Üí lastMessageAt
```

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
```bash
GET /api/chats?sortBy=lastMessageAt&sortOrder=desc
# –°–∞–º—ã–µ —Å–≤–µ–∂–∏–µ —á–∞—Ç—ã –≤–≤–µ—Ä—Ö—É
```

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞
```bash
GET /api/chats?sortBy=createdAt&sortOrder=asc
# –°–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ —á–∞—Ç—ã –≤–≤–µ—Ä—Ö—É
```

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
```bash
GET /api/chats?sortBy=unreadCount&sortOrder=desc
# –ß–∞—Ç—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –≤–≤–µ—Ä—Ö—É
```

## üîç –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–æ–ª—è–º–∏

| –ü–æ–ª–µ | –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è? | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|------|--------------|-------------------|
| `lastMessageAt` ‚≠ê | ‚úÖ –ü—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ | –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ |
| `createdAt` | ‚ùå –ù–∏–∫–æ–≥–¥–∞ | –î–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ä—ã—Ö/–Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤ |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```bash
GET /api/chats?assigned=true&sortBy=lastMessageAt&sortOrder=desc
# –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –º–Ω–µ —á–∞—Ç—ã, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
```

### –î–ª—è –æ—á–µ—Ä–µ–¥–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö
```bash
GET /api/chats?status=new&sortBy=createdAt&sortOrder=asc
# –ù–æ–≤—ã–µ —á–∞—Ç—ã, –Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç–∞—Ä—ã—Ö (FIFO)
```

### –î–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
```bash
GET /api/chats?priority=urgent&sortBy=unreadCount&sortOrder=desc
# –°—Ä–æ—á–Ω—ã–µ —á–∞—Ç—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
```

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** "–ü–æ—á–µ–º—É —Å—Ç–∞—Ä—ã–µ —á–∞—Ç—ã –≤–Ω–∏–∑—É, —Ö–æ—Ç—è —è –Ω–µ —É–∫–∞–∑—ã–≤–∞–ª —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É?"
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `lastMessageAt`, –∞ –Ω–µ –ø–æ `createdAt`

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** –û–∂–∏–¥–∞—Ç—å, —á—Ç–æ —á–∞—Ç—ã –±—É–¥—É—Ç –≤ –ø–æ—Ä—è–¥–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `sortBy=createdAt`
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `sortBy=createdAt` –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è

## üöÄ –ò—Ç–æ–≥–æ

- **–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –£–º–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Üí –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ ‚Üí –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è)
- **–° `sortBy`:** –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–¥–Ω–æ–º—É –ø–æ–ª—é
- **–ü–æ –≤—Ä–µ–º–µ–Ω–∏:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `lastMessageAt` (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å), –∞ –Ω–µ `createdAt` (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è)
